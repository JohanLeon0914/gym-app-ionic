<ion-content>
  <app-header
    color="dark"
    [centerTitle]="false"
    [isModal]="false"
    title="Profile"
  ></app-header>

  <div class="content ion-text-center">
    <div *ngIf="user" class="avatar-container">
      <div class="avatar-wrapper">
        <ion-avatar class="avatar">
          <img [src]="user?.photoURL" />
        </ion-avatar>
      </div>
    </div>
    <h2>{{ user?.displayName }}</h2>
    <div>{{ user?.email }}</div>

      <form *ngIf="!user" #loginForm="ngForm" (ngSubmit)="onSubmit()" class="ion-text-center">

        <ion-text>
          Sign in 
        </ion-text>
      
        <app-custom-input 
            autocomplete="email"
            [control]="form.controls.email"
            name="email"
            type="email"
            label="Email"
            icon="mail-outline"
          ></app-custom-input>
      
        <app-custom-input
            [control]="form.controls.password"
            name="password"
            type="password"
            label="Password"
            icon="lock-closed-outline"
          ></app-custom-input>
      
        <ion-button expand="full" shape="round" color="success" type="submit">
          Sign In
        </ion-button>
      
        <ion-button expand="full" shape="round" color="tertiary" (click)="onSignUp()">
          Sign Up
        </ion-button>
  
        <ion-text class="forgotPassword" (click)="forgotPassword()">
          <a>Forgot your password?</a>
        </ion-text>
      
      </form>

    <ion-button
      *ngIf="user"
      color="tertiary"
      (click)="openModalGetRoutines()"
      shape="round"
      class="ion-button"
    >
      Routines
      <ion-icon slot="end" name="stopwatch-outline"></ion-icon>
    </ion-button>

    <ion-button
      *ngIf="user"
      (click)="signOut()"
      color="danger"
      class="ion-button"
      shape="round"
    >
      Log out
      <ion-icon slot="end" name="log-out-outline"></ion-icon>
    </ion-button>
  </div>
</ion-content>